# êµ¬í˜„ ìƒíƒœ ìš”ì•½ (2026-01-26)

**ì‘ì„±ì¼**: 2026-01-26  
**ë²„ì „**: 1.0  
**í”„ë¡œì íŠ¸ëª…**: Avatar Forge (ì¸ìƒ ê·¹ì¥)

---

## ğŸ“‹ ëª©ì°¨

1. [ì „ì²´ êµ¬í˜„ í˜„í™©](#1-ì „ì²´-êµ¬í˜„-í˜„í™©)
2. [TTS API êµ¬í˜„ ìƒì„¸](#2-tts-api-êµ¬í˜„-ìƒì„¸)
3. [ìºë¦­í„° ì„ íƒ/ìƒì„± ê¸°ëŠ¥ êµ¬í˜„ ìƒì„¸](#3-ìºë¦­í„°-ì„ íƒìƒì„±-ê¸°ëŠ¥-êµ¬í˜„-ìƒì„¸)
4. [ìºë¦­í„° API êµ¬í˜„ ìƒì„¸](#4-ìºë¦­í„°-api-êµ¬í˜„-ìƒì„¸)
5. [ê°œì„  ì‘ì—… ì™„ë£Œ ë‚´ì—­](#5-ê°œì„ -ì‘ì—…-ì™„ë£Œ-ë‚´ì—­)
6. [ë¬¸ì„œ ì •í•©ì„± ì—…ë°ì´íŠ¸ í•„ìš” ì‚¬í•­](#6-ë¬¸ì„œ-ì •í•©ì„±-ì—…ë°ì´íŠ¸-í•„ìš”-ì‚¬í•­)

---

## 1. ì „ì²´ êµ¬í˜„ í˜„í™©

### 1.1 Backend êµ¬í˜„ ì™„ë£Œ í•­ëª© âœ…

#### âœ… TTS API (`app/api/tts.py`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/tts.py`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `POST /api/tts` - í…ìŠ¤íŠ¸-ìŒì„± ë³€í™˜ (ì™„ì „ êµ¬í˜„)
  - `GET /api/tts/voices` - ìŒì„± ëª©ë¡ ì¡°íšŒ (ì™„ì „ êµ¬í˜„)
  - Server A GPT-SoVITS ì—°ë™ (ì™„ì „ êµ¬í˜„)
  - ìºì‹± ì‹œìŠ¤í…œ (ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜)
  - ì˜¤ë””ì˜¤ íŒŒì¼ ë©”íƒ€ë°ì´í„° ë¶„ì„ (mutagen ì‚¬ìš©)
  - ì‚¬ìš©ìë³„ íŒŒì¼ ì €ì¥ (`/mnt/user_assets/{user_id}/`)
  - ë°”ì´ë„ˆë¦¬ ì§ì ‘ ë°˜í™˜ ì˜µì…˜ (`return_binary`)
  - streaming_mode ì§€ì› (0-3)
  - voice_id ë§¤í•‘ ì‹œìŠ¤í…œ (`app/config/voices.json`)

#### âœ… ìºë¦­í„° API (`app/api/characters.py`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/characters.py`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `GET /api/characters/presets` - ì‚¬ì „ì„¤ì • ìºë¦­í„° ëª©ë¡ ì¡°íšŒ
  - `GET /api/characters` - ì‚¬ìš©ì ì €ì¥ ìºë¦­í„° ëª©ë¡ ì¡°íšŒ
  - `POST /api/characters` - ìƒˆ ìºë¦­í„° ìƒì„±
  - `GET /api/characters/{character_id}` - ìºë¦­í„° ìƒì„¸ ì¡°íšŒ
  - `PUT /api/characters/{character_id}` - ìºë¦­í„° ìˆ˜ì •
  - `DELETE /api/characters/{character_id}` - ìºë¦­í„° ì‚­ì œ
  - íŒŒì¼ ë³€ê²½ ê°ì§€ ê¸°ë°˜ ìºì‹± (mtime ì¶”ì )
  - ì‚¬ì „ì„¤ì • ìºë¦­í„° JSON íŒŒì¼ ë¡œë“œ (`app/config/characters.json`)

#### âœ… AI ìƒì„± API (`app/api/ai.py`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/ai.py`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ (Gemini SDK ë„ì… ì™„ë£Œ, 2026-01-26)
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `POST /api/ai/generate/story` - ìƒí™© ë¶„ì„ ë° ë“œë¼ë§ˆí‹±í•œ ì¤„ê±°ë¦¬ ìƒì„±
  - `POST /api/ai/generate/character-details` - ìºë¦­í„° ìƒì„¸ ì„¤ì • ìë™ ìƒì„± (JSON). **ì°¸ê³ **: Frontend `characterApi.generateCharacterDetails()`ëŠ” `POST /api/characters/generate`ë¥¼ í˜¸ì¶œ(ê²½ë¡œ ë¶ˆì¼ì¹˜). ì—°ë™ ì‹œ `/api/ai/generate/character-details`ë¡œ client ìˆ˜ì • í•„ìš”.
  - **Google Generative AI SDK (`google-generativeai`) ë„ì…**:
    - ë¹„ë™ê¸° API í˜¸ì¶œ (`generate_content_async`)
    - JSON Mode ì§€ì› (`response_mime_type="application/json"`)
    - Safety Settings ì ìš© (ê¸°ë³¸ê°’: BLOCK_NONE, í™˜ê²½ë³€ìˆ˜ë¡œ ì¡°ì ˆ ê°€ëŠ¥)
    - System Instruction ì§€ì›
    - í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • (GOOGLE_API_KEY, GOOGLE_API_MODEL, GOOGLE_SAFETY_THRESHOLD)
  - **ì°¸ê³  ë¬¸ì„œ**:
    - [Gemini API ì‚¬ìš©í•´ë³´ê¸°](https://velog.io/@dyd1308/Gemini-api-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0)
    - [Gemini ëª¨ë¸ ë²„ì „](https://ai.google.dev/gemini-api/docs/models?hl=ko#model-versions)

#### âœ… Character ëª¨ë¸ í™•ì¥ (`app/models/generation.py`)
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì¶”ê°€ëœ í•„ë“œ**:
  - `persona`: ìºë¦­í„° í˜ë¥´ì†Œë‚˜ ì„¤ëª… (í…ìŠ¤íŠ¸)
  - `voice_id`: TTS ìŒì„± ID (ê¸°ë³¸ê°’: "default")
  - `character`: ìºë¦­í„° ì†ì„± (JSON)

### 1.2 Frontend êµ¬í˜„ ì™„ë£Œ í•­ëª© âœ…

#### âœ… ìºë¦­í„° ì„ íƒ ëª¨ë‹¬ (`components/character-select-modal.tsx`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/components/character-select-modal.tsx`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ì‚¬ì „ì„¤ì • ìºë¦­í„° íƒ­ (ë¡œì»¬ JSON ìš°ì„  ë¡œë“œ, ë°±ì—”ë“œ í´ë°±)
  - ì €ì¥ëœ ìºë¦­í„° íƒ­
  - ìƒˆë¡œ ë§Œë“¤ê¸° íƒ­ (CharacterCreationWizard ì—°ê²°)
  - ìºë¦­í„° ì„ íƒ í™•ì¸ ëª¨ë‹¬
  - ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ (ëª¨ë°”ì¼ 1ì—´, íƒœë¸”ë¦¿ 2ì—´, ë°ìŠ¤í¬í†± 3ì—´)
  - Lazy loading (CharacterCreationWizard)
  - Toast ê¸°ë°˜ ì—ëŸ¬ ì²˜ë¦¬
  - ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì²˜ë¦¬ ë° íƒ€ì„ì•„ì›ƒ

#### âœ… ìºë¦­í„° ìƒì„± ìœ„ì €ë“œ (`components/character-creation-wizard.tsx`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/components/character-creation-wizard.tsx`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - 4ë‹¨ê³„ ìœ„ì €ë“œ (ì´ë¦„/ì‘í’ˆ ì…ë ¥, Persona ìƒì„¸ ì…ë ¥, Voice ì„ íƒ, ë¯¸ë¦¬ë³´ê¸°)
  - AI ìë™ ìƒì„± (Gemini API ì—°ë™)
  - Persona êµ¬ì¡°í™” íŒŒì‹± (personality, speechStyle, background, goals)
  - Voice ë¯¸ë¦¬ë³´ê¸° (TTS API ì—°ë™)
  - Toast ê¸°ë°˜ ì—ëŸ¬ ì²˜ë¦¬
  - ì ‘ê·¼ì„± ê°œì„  (ARIA ì†ì„±, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜)
  - ë©”ëª¨ì´ì œì´ì…˜ (useCallback, useMemo)

#### âœ… ìºë¦­í„° ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ (`components/character-card.tsx`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/components/character-card.tsx`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ì´ë¯¸ì§€ Fallback ì²´ì¸ (ìºë¦­í„°ë³„ â†’ ì¹´í…Œê³ ë¦¬ë³„ â†’ ê¸°ë³¸ placeholder)
  - ì ‘ê·¼ì„± ê°œì„  (ARIA ì†ì„±, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜)
  - Lazy loading ì´ë¯¸ì§€

#### âœ… API í´ë¼ì´ì–¸íŠ¸ í™•ì¥ (`lib/api/client.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/api/client.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `characterApi.listPresets()` - ë¡œì»¬ JSON ìš°ì„ , ë°±ì—”ë“œ í´ë°±
  - `characterApi.listUserCharacters()` - ì‚¬ìš©ì ìºë¦­í„° ëª©ë¡
  - `characterApi.createCharacter()` - ìºë¦­í„° ìƒì„±
  - `fetchWithTimeout` - 10ì´ˆ íƒ€ì„ì•„ì›ƒ
  - í–¥ìƒëœ ì—ëŸ¬ ì²˜ë¦¬ (`handleResponse` ê°œì„ )

#### âœ… ìºë¦­í„° API Route (`app/api/characters/route.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/app/api/characters/route.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ (ë¹„ë™ê¸° ì²˜ë¦¬ ê°œì„  ì™„ë£Œ, 2026-01-26)
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `GET /api/characters` - `public/characters/*.json` íŒŒì¼ ë™ì  ë¡œë“œ
  - **ë¹„ë™ê¸° ì²˜ë¦¬ ê°œì„ **:
    - ë™ê¸°ì‹ íŒŒì¼ ì²˜ë¦¬(`fs.readFileSync`) â†’ ë¹„ë™ê¸°ì‹(`fs.promises`) ì „í™˜
    - `Promise.all()`ì„ ì‚¬ìš©í•œ ë³‘ë ¬ íŒŒì¼ ë¡œë“œ
    - ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” (ê° íŒŒì¼ë³„ try-catch)
    - ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸ (`fs.promises.access`)
    - íŒŒì¼ íƒ€ì… í™•ì¸ (`stats.isFile()`)
  - ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜: íŒŒì¼ ë¡œë“œ ì‹œ `persona` í•„ë“œ ìë™ ì œê±°
  - í”„ë¦¬ì…‹ ìš°ì„  ì •ë ¬ (ì•ˆì „í•œ ì •ë ¬ ë¡œì§)
  - ì—ëŸ¬ ë¡œê¹… ê°•í™”

#### âœ… ì„¤ì • íŒŒì¼ (`lib/config/character.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/config/character.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ë‚´ìš©**:
  - Gemini API URL ì„¤ì •
  - ìºë¦­í„° ë¯¸ë¦¬ë³´ê¸° í…ìŠ¤íŠ¸
  - ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ì„¤ì •
  - ëª¨ë‹¬ í¬ê¸° ì„¤ì •
  - ì´ë¯¸ì§€ Fallback ê²½ë¡œ

#### âœ… Persona íŒŒì„œ (`lib/utils/persona-parser.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/utils/persona-parser.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `parsePersona()` - í…ìŠ¤íŠ¸ì—ì„œ êµ¬ì¡°í™”ëœ í•„ë“œ ì¶”ì¶œ
  - `buildPersonaFromParsed()` - êµ¬ì¡°í™”ëœ í•„ë“œì—ì„œ í…ìŠ¤íŠ¸ ì¬êµ¬ì„±

#### âœ… ì—ëŸ¬ ì²˜ë¦¬ ì‹œìŠ¤í…œ (`lib/api/errors.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/api/errors.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `ErrorCode` enum ì •ì˜
  - `AppError` ì¸í„°í˜ì´ìŠ¤
  - `toAppError()` - ì—ëŸ¬ ë³€í™˜ í•¨ìˆ˜
  - `getErrorMessage()` - ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€

#### âœ… Zustand Store í™•ì¥ (`lib/store.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/store.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì¶”ê°€ëœ ìƒíƒœ**:
  - `AppStep`: `"character-select"` ì¶”ê°€
  - `Character` ì¸í„°í˜ì´ìŠ¤
  - `selectedCharacter` ìƒíƒœ

#### âœ… Gemini API í´ë¼ì´ì–¸íŠ¸ (`lib/api/gemini.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/api/gemini.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `generateCharacterSpec()` - AI ìºë¦­í„° ìƒì„¸ ì„¤ì • ìƒì„± (JSON)
  - ì¬ì‹œë„ ë¡œì§ (ì§€ìˆ˜ ë°±ì˜¤í”„, ìµœëŒ€ 3íšŒ)
  - êµ¬ì¡°í™”ëœ JSON ì‘ë‹µ ìš”ì²­
  - ì‘í’ˆëª… ê¸°ë°˜ ìƒì„± (`source_work` í•„ë“œ)
  - `worldview` í•„ë“œ ìë™ ìƒì„±

#### âœ… ë°±ì—”ë“œ Gemini SDK (`app/api/ai.py`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/ai.py`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ (Gemini SDK ë„ì… ì™„ë£Œ, 2026-01-26)
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `POST /api/ai/generate/story` - ìƒí™© ë¶„ì„ ë° ë“œë¼ë§ˆí‹±í•œ ì¤„ê±°ë¦¬ ìƒì„±
  - `POST /api/ai/generate/character-details` - ìºë¦­í„° ìƒì„¸ ì„¤ì • ìë™ ìƒì„± (JSON). **ì°¸ê³ **: Frontend `characterApi.generateCharacterDetails()`ëŠ” `POST /api/characters/generate`ë¥¼ í˜¸ì¶œ(ê²½ë¡œ ë¶ˆì¼ì¹˜). ì—°ë™ ì‹œ `/api/ai/generate/character-details`ë¡œ client ìˆ˜ì • í•„ìš”.
  - **Google Generative AI SDK (`google-generativeai`) ì‚¬ìš©**:
    - ê³µì‹ Python SDK ì‚¬ìš©ìœ¼ë¡œ ì½”ë“œ ê°„ì†Œí™” ë° ì•ˆì •ì„± í–¥ìƒ
    - ë¹„ë™ê¸° API í˜¸ì¶œ (`generate_content_async`)
    - JSON Mode ì§€ì› (`response_mime_type="application/json"`)
    - System Instruction ì§€ì› (`system_instruction` íŒŒë¼ë¯¸í„°)
  - **Safety Settings ì ìš©**:
    - ê¸°ë³¸ê°’: `BLOCK_NONE` (ë¬´ê²€ì—´)
    - í™˜ê²½ë³€ìˆ˜ë¡œ ì¡°ì ˆ ê°€ëŠ¥ (`GOOGLE_SAFETY_THRESHOLD`)
  - **í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •**:
    - `GOOGLE_API_KEY`: Gemini API í‚¤ (í•„ìˆ˜)
    - `GOOGLE_API_MODEL`: ì‚¬ìš©í•  ëª¨ë¸ (ê¸°ë³¸ê°’: `gemini-1.5-flash`)
    - `GOOGLE_SAFETY_THRESHOLD`: ì•ˆì „ ì„¤ì • (ê¸°ë³¸ê°’: `BLOCK_NONE`)
  - ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§: API í˜¸ì¶œ ì‹œê°„ ì¸¡ì • ë° ë¡œê¹…
- **ì˜ì¡´ì„±**: `google-generativeai` íŒ¨í‚¤ì§€ (`requirements.txt`ì— ì¶”ê°€ë¨)
- **ì°¸ê³  ë¬¸ì„œ**:
  - [Gemini API ì‚¬ìš©í•´ë³´ê¸°](https://velog.io/@dyd1308/Gemini-api-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0)
  - [Gemini ëª¨ë¸ ë²„ì „](https://ai.google.dev/gemini-api/docs/models?hl=ko#model-versions)

#### âœ… ê³µê°œ ìºë¦­í„° JSON (`public/characters/*.json`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/public/characters/*.json` (9ê°œ íŒŒì¼)
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ìš©ë„**: ë°±ì—”ë“œ ì„œë²„ê°€ ì—†ì„ ë•Œë„ ì‚¬ì „ì„¤ì • ìºë¦­í„° í‘œì‹œ ê°€ëŠ¥
- **ë¹„ë™ê¸° ì²˜ë¦¬**: `app/api/characters/route.ts`ì—ì„œ ë¹„ë™ê¸° íŒŒì¼ ë¡œë“œ (2026-01-26)

---

## 2. TTS API êµ¬í˜„ ìƒì„¸

### 2.1 ì—”ë“œí¬ì¸íŠ¸

#### `POST /api/tts`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: í…ìŠ¤íŠ¸ë¥¼ ìŒì„±ìœ¼ë¡œ ë³€í™˜
- **ì£¼ìš” íŒŒë¼ë¯¸í„°**:
  - `text`: í•©ì„±í•  í…ìŠ¤íŠ¸ (í•„ìˆ˜)
  - `voice_id`: ìŒì„± ID (ì„ íƒ, ê¸°ë³¸ê°’: "default")
  - `ref_audio_path`: ì°¸ì¡° ì˜¤ë””ì˜¤ ê²½ë¡œ (ì„ íƒ, voice_id ëŒ€ì‹  ì‚¬ìš© ê°€ëŠ¥)
  - `streaming_mode`: ìŠ¤íŠ¸ë¦¬ë° ëª¨ë“œ (0-3, ê¸°ë³¸ê°’: 0)
  - `return_binary`: ë°”ì´ë„ˆë¦¬ ì§ì ‘ ë°˜í™˜ ì—¬ë¶€ (ê¸°ë³¸ê°’: false)
  - ê¸°íƒ€ GPT-SoVITS íŒŒë¼ë¯¸í„° ì§€ì›
- **ì‘ë‹µ**:
  - `return_binary=true`: ì˜¤ë””ì˜¤ ë°”ì´ë„ˆë¦¬ ì§ì ‘ ë°˜í™˜
  - `return_binary=false`: JSON ì‘ë‹µ (audio_url, file_id, duration ë“±)
- **ìºì‹±**: ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ (text_hash, voice_id, format ê¸°ì¤€)

#### `GET /api/tts/voices`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: ì‚¬ìš© ê°€ëŠ¥í•œ ìŒì„± ëª©ë¡ ì¡°íšŒ
- **ì‘ë‹µ**: `{success: true, data: {voices: [...], default_voice_id: "default"}}`
- **ì„¤ì • íŒŒì¼**: `app/config/voices.json`

### 2.2 ì£¼ìš” ê¸°ëŠ¥

- **ìºì‹± ì‹œìŠ¤í…œ**: ë™ì¼í•œ í…ìŠ¤íŠ¸+voice_id ì¡°í•©ì€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¬ì‚¬ìš©
- **ì˜¤ë””ì˜¤ ë¶„ì„**: mutagenì„ ì‚¬ìš©í•œ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (duration, file_size)
- **ì‚¬ìš©ìë³„ ì €ì¥**: `/mnt/user_assets/{user_id}/audio/` ê²½ë¡œì— ì €ì¥
- **ì—ëŸ¬ ì²˜ë¦¬**: HTTPException ê¸°ë°˜ í‘œì¤€í™”ëœ ì—ëŸ¬ ì‘ë‹µ
- **íƒ€ì„ì•„ì›ƒ**: ì„¤ì • ê°€ëŠ¥í•œ íƒ€ì„ì•„ì›ƒ (ê¸°ë³¸ê°’: 30ì´ˆ)

### 2.3 ì˜ì¡´ì„±

- `mutagen`: ì˜¤ë””ì˜¤ ë©”íƒ€ë°ì´í„° ë¶„ì„
- `httpx`: ë¹„ë™ê¸° HTTP í´ë¼ì´ì–¸íŠ¸
- `sqlalchemy`: ë°ì´í„°ë² ì´ìŠ¤ ORM

---

## 3. ìºë¦­í„° ì„ íƒ/ìƒì„± ê¸°ëŠ¥ êµ¬í˜„ ìƒì„¸

### 3.1 ì‚¬ìš©ì í”Œë¡œìš°

1. **ëª¨ë“œ ì„ íƒ** (`ModeSelectModal`) â†’ **ìºë¦­í„° ì„ íƒ** (`CharacterSelectModal`)
2. **ìºë¦­í„° ì„ íƒ ëª¨ë‹¬**:
   - ì‚¬ì „ì„¤ì • ìºë¦­í„° íƒ­: ë¡œì»¬ JSON ìš°ì„  ë¡œë“œ, ë°±ì—”ë“œ í´ë°±
   - ì €ì¥ëœ ìºë¦­í„° íƒ­: ì‚¬ìš©ìê°€ ìƒì„±í•œ ìºë¦­í„° ëª©ë¡
   - ìƒˆë¡œ ë§Œë“¤ê¸° íƒ­: ìºë¦­í„° ìƒì„± ìœ„ì €ë“œ ì—´ê¸°
3. **ìºë¦­í„° ìƒì„± ìœ„ì €ë“œ** (4ë‹¨ê³„):
   - **1ë‹¨ê³„**: ì´ë¦„/ì‘í’ˆ ì…ë ¥ ë˜ëŠ” AI ìë™ ìƒì„±
   - **2ë‹¨ê³„**: Persona ìƒì„¸ ì…ë ¥ (ì„±ê²©, ë§íˆ¬, ë°°ê²½, ëª©í‘œ)
   - **3ë‹¨ê³„**: Voice ì„ íƒ ë° ë¯¸ë¦¬ë³´ê¸°
   - **4ë‹¨ê³„**: ë¯¸ë¦¬ë³´ê¸° ë° í™•ì¸
4. **ìºë¦­í„° ì„ íƒ í™•ì¸** â†’ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™ (ì•„ë°”íƒ€ ì—…ë¡œë“œ ë˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ ì„¤ì •)

### 3.2 ì£¼ìš” ì»´í¬ë„ŒíŠ¸

#### CharacterSelectModal
- **íƒ­ ì‹œìŠ¤í…œ**: ì‚¬ì „ì„¤ì • / ì €ì¥ëœ ìºë¦­í„° / ìƒˆë¡œ ë§Œë“¤ê¸°
- **ë¡œë”© ì „ëµ**: íƒ­ë³„ ì§€ì—° ë¡œë”© (í•„ìš”í•  ë•Œë§Œ ë¡œë“œ)
- **ì—ëŸ¬ ì²˜ë¦¬**: Toast ê¸°ë°˜, ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ëŠ” ì¡°ìš©íˆ ì²˜ë¦¬
- **ë°˜ì‘í˜•**: ëª¨ë°”ì¼ 1ì—´, íƒœë¸”ë¦¿ 2ì—´, ë°ìŠ¤í¬í†± 3ì—´

#### CharacterCreationWizard
- **AI ìƒì„±**: Gemini APIë¥¼ í†µí•œ ìë™ ìºë¦­í„° ìƒì„±
- **Persona íŒŒì‹±**: êµ¬ì¡°í™”ëœ í•„ë“œ ìë™ ì¶”ì¶œ
- **Voice ë¯¸ë¦¬ë³´ê¸°**: TTS APIë¥¼ í†µí•œ ìŒì„± ë¯¸ë¦¬ë“£ê¸°
- **ê²€ì¦**: ë‹¨ê³„ë³„ ì…ë ¥ ê²€ì¦
- **ì ‘ê·¼ì„±**: ARIA ì†ì„±, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜

#### CharacterCard
- **ì´ë¯¸ì§€ Fallback**: 3ë‹¨ê³„ Fallback ì²´ì¸
- **ì ‘ê·¼ì„±**: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜, ARIA ë ˆì´ë¸”
- **Lazy Loading**: ì´ë¯¸ì§€ ì§€ì—° ë¡œë”©

### 3.3 API í†µí•©

#### Frontend â†’ Backend
- `GET /api/characters/presets`: ì‚¬ì „ì„¤ì • ìºë¦­í„° (ë¡œì»¬ JSON ìš°ì„ )
- `GET /api/characters`: ì‚¬ìš©ì ìºë¦­í„° ëª©ë¡
- `POST /api/characters`: ìƒˆ ìºë¦­í„° ìƒì„±
- `GET /api/tts/voices`: ìŒì„± ëª©ë¡ ì¡°íšŒ
- `POST /api/tts`: ìŒì„± ë¯¸ë¦¬ë³´ê¸°

#### Frontend â†’ Gemini API
- `POST https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent`: AI ìºë¦­í„° ìƒì„±

---

## 4. ìºë¦­í„° API êµ¬í˜„ ìƒì„¸

### 4.1 ì—”ë“œí¬ì¸íŠ¸

#### `GET /api/characters/presets`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: ì‚¬ì „ì„¤ì • ìºë¦­í„° ëª©ë¡ ì¡°íšŒ
- **ìºì‹±**: íŒŒì¼ ë³€ê²½ ê°ì§€ ê¸°ë°˜ (mtime ì¶”ì )
- **ì„¤ì • íŒŒì¼**: `app/config/characters.json`

#### `GET /api/characters`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: ì‚¬ìš©ìê°€ ìƒì„±í•œ ìºë¦­í„° ëª©ë¡ ì¡°íšŒ
- **í•„í„°ë§**: ëª¨ë“  ì‚¬ìš©ì ìƒì„± ìºë¦­í„° ì¡°íšŒ (is_preset=False)

#### `POST /api/characters`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: ìƒˆ ìºë¦­í„° ìƒì„±
- **í•„ìˆ˜ í•„ë“œ**: `name`, `persona`
- **ì„ íƒ í•„ë“œ**: `voice_id`, `description`, `category`, `tags`, `image_url`, `character`
- **ì°¸ê³ **: user_idëŠ” "anonymous"ë¡œ ìë™ ì„¤ì •ë¨

#### `GET /api/characters/{character_id}`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: ìºë¦­í„° ìƒì„¸ ì¡°íšŒ
- **ê¶Œí•œ**: ëª¨ë“  ìºë¦­í„° ì¡°íšŒ ê°€ëŠ¥

#### `PUT /api/characters/{character_id}`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: ìºë¦­í„° ìˆ˜ì •
- **ê¶Œí•œ**: ì‚¬ì „ì„¤ì • ìºë¦­í„°ëŠ” ìˆ˜ì • ë¶ˆê°€ (403 ì—ëŸ¬)

#### `DELETE /api/characters/{character_id}`
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨)
- **ê¸°ëŠ¥**: ìºë¦­í„° ì‚­ì œ
- **ê¶Œí•œ**: ì‚¬ì „ì„¤ì • ìºë¦­í„°ëŠ” ì‚­ì œ ë¶ˆê°€ (403 ì—ëŸ¬)

### 4.2 ë°ì´í„° ëª¨ë¸

#### Character (SQLAlchemy)
- `id`: UUID (Primary Key)
- `user_id`: UUID (Foreign Key â†’ users.id)
- `name`: String (ìºë¦­í„° ì´ë¦„)
- `persona`: Text (í˜ë¥´ì†Œë‚˜ ì„¤ëª…)
- `voice_id`: String (ê¸°ë³¸ê°’: "default")
- `description`: Text (ì„ íƒ)
- `category`: String (ì„ íƒ)
- `tags`: JSON (ì„ íƒ)
- `image_url`: String (ì„ íƒ)
- `character`: JSON (ì„ íƒ)
- `is_preset`: Boolean (ê¸°ë³¸ê°’: false)
- `created_at`: DateTime
- `updated_at`: DateTime

---

## 5. ìºë¦­í„° ì‹œìŠ¤í…œ ê³ ë„í™” ì‘ì—… ì™„ë£Œ ë‚´ì—­ (2026-01-26)

### 5.1 ë°ì´í„° êµ¬ì¡° ì„¸ë¶„í™” âœ…

**ì‘ì—… ë‚´ìš©**: ë‹¨ìˆœ í…ìŠ¤íŠ¸(persona) ì¤‘ì‹¬ì—ì„œ 10ê°œ ì´ìƒì˜ ìƒì„¸ í•„ë“œ ê°ì²´ êµ¬ì¡°ë¡œ ì „í™˜

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
- âœ… ê¸°ì¡´ `persona` í•„ë“œ ëŒ€ì‹  ìƒì„¸ í•„ë“œ êµ¬ì¡° ë„ì…:
  - `personality`: ì„±ê²© (ì½¤ë§ˆë¡œ êµ¬ë¶„ëœ íŠ¹ì„±ë“¤)
  - `appearance`: ì™¸ëª¨ (ë¨¸ë¦¬, ëˆˆ, ì²´í˜•, ë³µì¥ ë“± ìƒì„¸ ë¬˜ì‚¬)
  - `likes`: ì¢‹ì•„í•˜ëŠ” ê²ƒ (ë°°ì—´)
  - `dislikes`: ì‹«ì–´í•˜ëŠ” ê²ƒ (ë°°ì—´)
  - `speech_style`: ë§íˆ¬ (êµ¬ì²´ì ì¸ ì–´ì¡°, ì–´ë¯¸, íŠ¹ì§•)
  - `thoughts`: ìƒê° (ëŒ€í‘œì ì¸ ì†ë§ˆìŒ ëŒ€ì‚¬)
  - `features`: íŠ¹ì§• (í–‰ë™ íŒ¨í„´, ë…íŠ¹í•œ ìŠµê´€)
  - `habits`: ë§ë²„ë¦‡ (ìì£¼ ì“°ëŠ” ê°íƒ„ì‚¬ë‚˜ ì˜ì„±ì–´)
  - `guidelines`: ê°€ì´ë“œë¼ì¸ (ë¡¤í”Œë ˆì´ ì‹œ ì£¼ì˜í•  ì )
  - ê¸°íƒ€: `gender`, `species`, `age`, `height`, `job`, `description`

**ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜**:
- âœ… 9ì¢… ìºë¦­í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ:
  - ìœ ì¦ˆ, í—¤ë¥´ë¯¸ì˜¨ëŠ, í† í† ë¡œ, ì…œë¡, ë‚˜ë£¨í† , ìš”ë‹¤, ì—˜ì‚¬, ê°„ë‹¬í”„, í”¼ì¹´ì¸„
- âœ… `public/characters/*.json` íŒŒì¼ì— ìƒì„¸ í•„ë“œ êµ¬ì¡°ë¡œ ì €ì¥
- âœ… ê¸°ì¡´ `persona` í•„ë“œëŠ” ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ì œê±° (API Routeì—ì„œ ì²˜ë¦¬)

**íŒŒì¼ ìœ„ì¹˜**:
- `madcamp-Screening-Humanity-FRONT/public/characters/*.json` (9ê°œ íŒŒì¼)

### 5.2 íŒŒì¼ ê¸°ë°˜ ê´€ë¦¬ ì‹œìŠ¤í…œ âœ…

**ì‘ì—… ë‚´ìš©**: `public/characters/*.json` íŒŒì¼ì„ ë™ì ìœ¼ë¡œ ë¡œë“œí•˜ëŠ” API Route êµ¬ì¶•

**ì£¼ìš” ê¸°ëŠ¥**:
- âœ… `app/api/characters/route.ts` ìƒì„±:
  - ì„œë²„ ì‹¤í–‰ ì¤‘ `public/characters` í´ë”ë¥¼ ìŠ¤ìº”í•˜ì—¬ ìºë¦­í„° ëª©ë¡ ë°˜í™˜
  - ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜: íŒŒì¼ ë¡œë“œ ì‹œ `persona` í•„ë“œê°€ ë‚¨ì•„ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ê³  ì •ê·œí™”ëœ ìŠ¤í™ìœ¼ë¡œ ë®ì–´ì“°ê¸°
  - í”„ë¦¬ì…‹ ìš°ì„  ì •ë ¬ (is_preset ê¸°ì¤€)

**API í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì •**:
- âœ… `lib/api/client.ts`:
  - ìºë¦­í„° ëª©ë¡ ì¡°íšŒë¥¼ ì •ì  importì—ì„œ API í˜¸ì¶œ ë°©ì‹ìœ¼ë¡œ ì „í™˜
  - `characterApi.listPresets()` - ë¡œì»¬ JSON ìš°ì„ , ë°±ì—”ë“œ í´ë°±

**íŒŒì¼ ìœ„ì¹˜**:
- `madcamp-Screening-Humanity-FRONT/app/api/characters/route.ts`

### 5.3 AI ìë™ ì™„ì„± ê¸°ëŠ¥ ê³ ë„í™” âœ…

**ì‘ì—… ë‚´ìš©**: Gemini AIë¥¼ í†µí•œ ìƒì„¸ ìºë¦­í„° ì„¤ì • ìë™ ìƒì„±

**í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„**:
- âœ… `lib/api/gemini.ts` ê°œí¸:
  - `generateCharacterSpec()` í•¨ìˆ˜ êµ¬í˜„: ì‚¬ìš©ìì˜ ìµœì†Œ ì…ë ¥ë§Œìœ¼ë¡œ ë‚˜ë¬´ìœ„í‚¤ ìˆ˜ì¤€ì˜ ìƒì„¸ ìºë¦­í„° ì„¤ì •ì„ JSON í˜•íƒœë¡œ ìë™ ìƒì„±
  - ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ê°•í™”: ë” êµ¬ì²´ì ì¸ ìºë¦­í„°ì„±ê³¼ í’ë¶€í•œ ë°°ê²½ ìŠ¤í† ë¦¬ë¥¼ ìƒì„±í•˜ë„ë¡ ì§€ì‹œ
  - **ì‘í’ˆëª… ê¸°ë°˜ ìƒì„±**: `source_work` í•„ë“œ ì¶”ê°€ë¡œ ì›ì‘ ì •ë³´ë¥¼ ì •í™•í•˜ê²Œ ë°˜ì˜
  - ì¬ì‹œë„ ë¡œì§ (ì§€ìˆ˜ ë°±ì˜¤í”„, ìµœëŒ€ 3íšŒ)
  - JSON íŒŒì‹± ë° ì •ì œ (ì½”ë“œ ë¸”ë¡ ì œê±°)

**ë°±ì—”ë“œ êµ¬í˜„** (2026-01-26):
- âœ… `app/api/ai.py` ë¦¬íŒ©í† ë§:
  - **Google Generative AI SDK (`google-generativeai`) ë„ì…**:
    - ê³µì‹ Python SDK ì‚¬ìš©ìœ¼ë¡œ ì½”ë“œ ê°„ì†Œí™” ë° ì•ˆì •ì„± í–¥ìƒ
    - ë¹„ë™ê¸° API í˜¸ì¶œ (`generate_content_async`)
    - JSON Mode ì§€ì› (`response_mime_type="application/json"`)
    - System Instruction ì§€ì› (`system_instruction` íŒŒë¼ë¯¸í„°)
  - **Safety Settings ì ìš©**:
    - ê¸°ë³¸ê°’: `BLOCK_NONE` (ë¬´ê²€ì—´)
    - í™˜ê²½ë³€ìˆ˜ë¡œ ì¡°ì ˆ ê°€ëŠ¥ (`GOOGLE_SAFETY_THRESHOLD`)
    - ì§€ì› ê°’: `BLOCK_NONE`, `BLOCK_ONLY_HIGH`, `BLOCK_MEDIUM_AND_ABOVE`, `BLOCK_LOW_AND_ABOVE`
  - **í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •**:
    - `GOOGLE_API_KEY`: Gemini API í‚¤ (í•„ìˆ˜)
    - `GOOGLE_API_MODEL`: ì‚¬ìš©í•  ëª¨ë¸ (ê¸°ë³¸ê°’: `gemini-1.5-flash`)
    - `GOOGLE_SAFETY_THRESHOLD`: ì•ˆì „ ì„¤ì • (ê¸°ë³¸ê°’: `BLOCK_NONE`)
    - í´ë°±: `NEXT_PUBLIC_GEMINI_API_KEY` (ê°œë°œ í™˜ê²½ í¸ì˜)
  - **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: API í˜¸ì¶œ ì‹œê°„ ì¸¡ì • ë° ë¡œê¹…

**ì…ë ¥ íŒŒë¼ë¯¸í„°**:
- `name`: ìºë¦­í„° ì´ë¦„ (í•„ìˆ˜)
- `category`: ì¹´í…Œê³ ë¦¬ (í•„ìˆ˜)
- `source_work`: ì‘í’ˆëª…(ì¶œì²˜) (í•„ìˆ˜, ì‹ ê·œ ì¶”ê°€)
- `concept`: ìºë¦­í„° ì»¨ì…‰/ì„¤ëª… (ì„ íƒ)
- `worldview`: ì„¸ê³„ê´€ (ì„ íƒ, AIê°€ ìë™ ìƒì„±)
- `gender`: ì„±ë³„ (ì„ íƒ, AIê°€ ìë™ ìƒì„±)
- `species`: ì¢…ì¡± (ì„ íƒ, AIê°€ ìë™ ìƒì„±)

**ì¶œë ¥ í˜•ì‹**:
- `CharacterSpec` ì¸í„°í˜ì´ìŠ¤ì— ë§ëŠ” ì™„ì „í•œ JSON ê°ì²´
- ëª¨ë“  í•„ìˆ˜ í•„ë“œ ìë™ ìƒì„± (personality, appearance, likes, dislikes, speech_style, thoughts, features, habits, guidelines, **worldview** ë“±)
- ì‘í’ˆì˜ ê³ ì¦ì„ ì² ì €íˆ ì§€ì¼œ ìƒì„±

**íŒŒì¼ ìœ„ì¹˜**:
- í”„ë¡ íŠ¸ì—”ë“œ: `madcamp-Screening-Humanity-FRONT/lib/api/gemini.ts`
- ë°±ì—”ë“œ: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/ai.py`

**ì˜ì¡´ì„±**:
- ë°±ì—”ë“œ: `google-generativeai` íŒ¨í‚¤ì§€ (`requirements.txt`ì— ì¶”ê°€ë¨)

**í™˜ê²½ë³€ìˆ˜ ì„¤ì •** (ë°±ì—”ë“œ):
- `GOOGLE_API_KEY`: Gemini API í‚¤ (í•„ìˆ˜)
- `GOOGLE_API_MODEL`: ì‚¬ìš©í•  ëª¨ë¸ (ê¸°ë³¸ê°’: `gemini-1.5-flash`)
- `GOOGLE_SAFETY_THRESHOLD`: ì•ˆì „ ì„¤ì • (ê¸°ë³¸ê°’: `BLOCK_NONE`)
- í´ë°±: `NEXT_PUBLIC_GEMINI_API_KEY` (ê°œë°œ í™˜ê²½ í¸ì˜)

**ì°¸ê³  ë¬¸ì„œ** (âš ï¸ **í•„ìˆ˜ ì°¸ê³ **):
- [Gemini API ì‚¬ìš©í•´ë³´ê¸°](https://velog.io/@dyd1308/Gemini-api-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0) - Gemini API ì‚¬ìš© ì‹œ ë°˜ë“œì‹œ ì°¸ê³ 
- [Gemini ëª¨ë¸ ë²„ì „](https://ai.google.dev/gemini-api/docs/models?hl=ko#model-versions) - ëª¨ë¸ ì„ íƒ ì‹œ ë°˜ë“œì‹œ ì°¸ê³ 

### 5.4 í”„ë¡ íŠ¸ì—”ë“œ UI/UX í˜ì‹  âœ…

**ì‘ì—… ë‚´ìš©**: CharacterCreationWizard ì „ë©´ ê°œí¸

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
- âœ… **Step 1 ê°„ì†Œí™”**: ì´ë¦„, ì¹´í…Œê³ ë¦¬, ì‘í’ˆëª…(ì¶œì²˜) 3ê°€ì§€ë§Œ ì…ë ¥
  - 'ë‹¤ìŒ' ë²„íŠ¼ í´ë¦­ ì‹œ AIê°€ ìë™ìœ¼ë¡œ ë‚˜ë¨¸ì§€ ëª¨ë“  ìƒì„¸ ì •ë³´ ìƒì„±
  - ì‘í’ˆëª… í•„ë“œ ì¶”ê°€ë¡œ AIê°€ ì›ì‘ ì •ë³´ë¥¼ ë” ì •í™•í•˜ê²Œ ë°˜ì˜
- âœ… **Step 2 í†µí•© í¸ì§‘**: AIê°€ ìƒì„±í•œ ëª¨ë“  ì •ë³´ë¥¼ í•œ í™”ë©´ì—ì„œ í™•ì¸ ë° ìˆ˜ì •
  - ê¸°ë³¸ ì •ë³´ (ì„±ë³„, ì¢…ì¡±, ë‚˜ì´, í‚¤, ì§ì—…, ì„¸ê³„ê´€) + ìƒì„¸ í˜ë¥´ì†Œë‚˜ í†µí•©
  - 'AI ë‹¤ì‹œ ìƒì„±' ë²„íŠ¼ìœ¼ë¡œ ì¬ì‹œë„ ê°€ëŠ¥
- âœ… **AI ì¬ìƒì„± íšŸìˆ˜ ì œí•œ**: ì´ 3íšŒ ìƒì„± ê°€ëŠ¥
  - Step 1ì—ì„œ 'ë‹¤ìŒ' ë²„íŠ¼ í´ë¦­ ì‹œ (ìë™ ìˆ˜í–‰, 1íšŒ)
  - Step 2 ìƒë‹¨ 'AI ë‹¤ì‹œ ìƒì„±' ë²„íŠ¼ í´ë¦­ (ìµœëŒ€ 2íšŒ)
  - UI í‘œì‹œ: ë²„íŠ¼ì— ë‚¨ì€ íšŸìˆ˜ í‘œì‹œ (ì˜ˆ: "1íšŒ ë‚¨ìŒ")
  - ëª¨ë“  ê¸°íšŒ ì†Œì§„ ì‹œ ë²„íŠ¼ ë¹„í™œì„±í™”
- âœ… ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒì„ ì‚¬ìš©í•œ íš¨ìœ¨ì ì¸ ë°ì´í„° ì…ë ¥ êµ¬ì¡°
- âœ… 4ë‹¨ê³„ ìœ„ì €ë“œ:
  1. ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ì¹´í…Œê³ ë¦¬, ì‘í’ˆëª…) - ê°„ì†Œí™”ë¨
  2. ìƒì„¸ ì •ë³´ (AI ìë™ ìƒì„± + ìˆ˜ì • ê°€ëŠ¥) - í†µí•© í¸ì§‘
  3. ìŒì„± ì„ íƒ ë° ë¯¸ë¦¬ë³´ê¸°
  4. ë¯¸ë¦¬ë³´ê¸° ë° í™•ì¸

**íŒŒì¼ ìœ„ì¹˜**:
- `madcamp-Screening-Humanity-FRONT/components/character-creation-wizard.tsx`

### 5.5 ì‹œìŠ¤í…œ ìµœì í™” (í˜ë¥´ì†Œë‚˜ ë¹Œë”) âœ…

**ì‘ì—… ë‚´ìš©**: ëŸ°íƒ€ì„ í˜ë¥´ì†Œë‚˜ ë¹Œë“œ ì‹œìŠ¤í…œ ë„ì…

**ì£¼ìš” ê¸°ëŠ¥**:
- âœ… `lib/utils/persona-builder.ts` ìœ í‹¸ë¦¬í‹° ìƒì„±:
  - `buildSystemPersona()` í•¨ìˆ˜: JSONì— ì €ì¥ëœ ë¬´ê±°ìš´ ë¬¸ìì—´ì„ ì œê±°í•˜ê³ , ëŸ°íƒ€ì„ì— ìƒì„¸ í•„ë“œë“¤ì„ ì¡°í•©í•´ LLMìš© ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±
  - í•˜ìœ„ í˜¸í™˜ì„±: ê¸°ì¡´ `persona` í•„ë“œê°€ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
  - í•„ë“œ ê¸°ë°˜ ì¡°í•©: personality, appearance, description, likes, dislikes, speech_style, thoughts, features, habits, guidelines ë“±ì„ ì¡°í•©

**ChatRoom ë¡œì§ ìˆ˜ì •**:
- âœ… `components/chat-room.tsx`:
  - ì±„íŒ… ì‹œì‘ ë° ì§„í–‰ ì‹œ ë™ì ìœ¼ë¡œ ë¹Œë“œëœ í˜ë¥´ì†Œë‚˜ì™€ ìºë¦­í„° ì´ë¦„ ê¸°ë°˜ì˜ ëª…ë ¹í˜• ì§€ì‹œë¬¸("ì´ì œ ì•„ë˜ ë‹µë³€ì„ ë°›ì€ OO ì²˜ëŸ¼ ë‹µë³€í•˜ì‹­ì‹œì˜¤")ì„ ìë™ ì¶”ê°€
  - `buildSystemPersona(selectedCharacter)` ì‚¬ìš©
  - ë°ì´í„° ì¤‘ë³µ ì œê±°: ì €ì¥ ì‹œ ë¬´ê±°ìš´ persona ë¬¸ìì—´ ëŒ€ì‹  ìƒì„¸ í•„ë“œë§Œ ì €ì¥

**íŒŒì¼ ìœ„ì¹˜**:
- `madcamp-Screening-Humanity-FRONT/lib/utils/persona-builder.ts`
- `madcamp-Screening-Humanity-FRONT/components/chat-room.tsx` (ìˆ˜ì •)

### 5.6 ê¸°ëŒ€ íš¨ê³¼ âœ…

**ë°ì´í„° ë¬´ê²°ì„±**:
- âœ… í•„ë“œ ê¸°ë°˜ ê´€ë¦¬ë¡œ ë°ì´í„° ì¤‘ë³µì„ ì œê±°í•˜ê³  í† í° íš¨ìœ¨ì„±ì„ ë†’ì„
- âœ… ëŸ°íƒ€ì„ í˜ë¥´ì†Œë‚˜ ë¹Œë“œë¡œ í•­ìƒ ìµœì‹  ìƒíƒœ ë°˜ì˜
- âœ… ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ê¸°ì¡´ ë°ì´í„° í˜¸í™˜ì„± ìœ ì§€

**ì‚¬ìš©ì ê²½í—˜**:
- âœ… AI ìë™ ìƒì„±ìœ¼ë¡œ ìºë¦­í„° ìƒì„± ì‹œê°„ ë‹¨ì¶•
- âœ… ìƒì„¸ í¼ ê¸°ë°˜ ì…ë ¥ìœ¼ë¡œ ë” í’ë¶€í•œ ìºë¦­í„° ì„¤ì • ê°€ëŠ¥
- âœ… ë‚˜ë¬´ìœ„í‚¤ ìˆ˜ì¤€ì˜ ìƒì„¸í•œ ìºë¦­í„° ì •ë³´ ìë™ ìƒì„±

---

## 6. ê°œì„  ì‘ì—… ì™„ë£Œ ë‚´ì—­

### 6.1 ì—ëŸ¬ ì²˜ë¦¬ ê°œì„  âœ…

- âœ… ëª¨ë“  `alert()` í˜¸ì¶œì„ `useToast()`ë¡œ êµì²´
- âœ… ì—ëŸ¬ íƒ€ì… ì •ì˜ (`ErrorCode`, `AppError`)
- âœ… ì¬ì‹œë„ ë¡œì§ (Gemini API, ì§€ìˆ˜ ë°±ì˜¤í”„)
- âœ… ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì²˜ë¦¬ (`fetchWithTimeout`, 10ì´ˆ íƒ€ì„ì•„ì›ƒ)
- âœ… ì¼ê´€ëœ ì—ëŸ¬ ë©”ì‹œì§€

### 5.2 í•˜ë“œì½”ë”© ì œê±° âœ…

- âœ… Gemini API URL â†’ í™˜ê²½ ë³€ìˆ˜ (`NEXT_PUBLIC_GEMINI_API_URL`)
- âœ… ë¯¸ë¦¬ë³´ê¸° í…ìŠ¤íŠ¸ â†’ ì„¤ì • íŒŒì¼ (`CHARACTER_PREVIEW.DEFAULT_TEXT`)
- âœ… ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ â†’ ì„¤ì • íŒŒì¼ (`CHARACTER_LAYOUT`)
- âœ… ëª¨ë‹¬ í¬ê¸° â†’ ì„¤ì • íŒŒì¼ (`CHARACTER_LAYOUT`)
- âœ… ì´ë¯¸ì§€ Fallback ê²½ë¡œ â†’ ì„¤ì • íŒŒì¼ (`IMAGE_FALLBACK`)

### 5.3 íƒ€ì… ì•ˆì •ì„± ê°œì„  âœ…

- âœ… `Voice` íƒ€ì… `gender` í•„ë“œë¥¼ optionalë¡œ ë³€ê²½
- âœ… `Voice` íƒ€ì…ì— `description` í•„ë“œ ì¶”ê°€
- âœ… Persona íŒŒì‹± íƒ€ì… ì •ì˜ (`ParsedPersona`)

### 5.4 Persona íŒŒì‹± ê°œì„  âœ…

- âœ… Gemini í”„ë¡¬í”„íŠ¸ ê°œì„  (êµ¬ì¡°í™”ëœ JSON ìš”ì²­)
- âœ… Persona íŒŒì„œ êµ¬í˜„ (`parsePersona`, `buildPersonaFromParsed`)
- âœ… êµ¬ì¡°í™”ëœ í•„ë“œ ìë™ ì¶”ì¶œ (personality, speechStyle, background, goals)

### 5.5 ìºì‹± ì „ëµ ê°œì„  âœ…

- âœ… Backend: íŒŒì¼ ë³€ê²½ ê°ì§€ (mtime ì¶”ì )
- âœ… Frontend: ë¡œì»¬ JSON ìš°ì„  ë¡œë“œ (ë°±ì—”ë“œ í´ë°±)

### 5.6 ì´ë¯¸ì§€ ì²˜ë¦¬ ê°œì„  âœ…

- âœ… ì´ë¯¸ì§€ Fallback ì²´ì¸ (ìºë¦­í„°ë³„ â†’ ì¹´í…Œê³ ë¦¬ë³„ â†’ ê¸°ë³¸ placeholder)
- âœ… Lazy loading ì´ë¯¸ì§€

### 5.7 ë°˜ì‘í˜• ë””ìì¸ âœ…

- âœ… ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ë°˜ì‘í˜•í™” (ëª¨ë°”ì¼ 1ì—´, íƒœë¸”ë¦¿ 2ì—´, ë°ìŠ¤í¬í†± 3ì—´)
- âœ… ëª¨ë‹¬ í¬ê¸° ë°˜ì‘í˜•í™”

### 5.8 ì ‘ê·¼ì„± ê°œì„  âœ…

- âœ… í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
- âœ… ARIA ë ˆì´ë¸” ì¶”ê°€
- âœ… í¬ì»¤ìŠ¤ ê´€ë¦¬ ê°œì„ 

### 5.9 ì„±ëŠ¥ ìµœì í™” âœ…

- âœ… ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… (CharacterCreationWizard lazy load)
- âœ… ë©”ëª¨ì´ì œì´ì…˜ (useCallback, useMemo)
- âœ… ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€

### 5.10 ë„¤íŠ¸ì›Œí¬ ì•ˆì •ì„± ê°œì„  âœ…

- âœ… `fetchWithTimeout` êµ¬í˜„ (10ì´ˆ íƒ€ì„ì•„ì›ƒ)
- âœ… AbortControllerë¥¼ í†µí•œ ìš”ì²­ ì·¨ì†Œ
- âœ… ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ëª…í™•í•œ ë©”ì‹œì§€
- âœ… ë°±ì—”ë“œ íƒ€ì„ì•„ì›ƒ (ì¸ì¦ ì½œë°±, Google OAuth)

---

## 6. ë¬¸ì„œ ì •í•©ì„± ì—…ë°ì´íŠ¸ í•„ìš” ì‚¬í•­

### 6.1 ë¯¸êµ¬í˜„_í•­ëª©_ì²´í¬ë¦¬ìŠ¤íŠ¸.md

**ì—…ë°ì´íŠ¸ í•„ìš”**:
- âŒ â†’ âœ… TTS API êµ¬í˜„ ìƒíƒœ ë³€ê²½
  - `POST /api/tts` âœ… êµ¬í˜„ ì™„ë£Œ
  - `GET /api/tts/voices` âœ… êµ¬í˜„ ì™„ë£Œ
- âŒ â†’ âœ… ìºë¦­í„° ì„ íƒ/ìƒì„± ê¸°ëŠ¥ ì¶”ê°€
  - ìºë¦­í„° ì„ íƒ ëª¨ë‹¬ âœ… êµ¬í˜„ ì™„ë£Œ
  - ìºë¦­í„° ìƒì„± ìœ„ì €ë“œ âœ… êµ¬í˜„ ì™„ë£Œ
  - ìºë¦­í„° API âœ… êµ¬í˜„ ì™„ë£Œ

### 6.2 í”„ë¡œì íŠ¸_í†µí•©_ì§„í–‰ìƒí™©_ëª…ì„¸ì„œ.md

**ì—…ë°ì´íŠ¸ í•„ìš”**:
- TTS API ì„¹ì…˜: âŒ â†’ âœ… êµ¬í˜„ ì™„ë£Œë¡œ ë³€ê²½
- Frontend ì§„í–‰ìƒí™©ì— ìºë¦­í„° ì„ íƒ/ìƒì„± ê¸°ëŠ¥ ì¶”ê°€
- ìºë¦­í„° API ì„¹ì…˜ ì¶”ê°€

### 6.3 FINALFINAL.md

**ì—…ë°ì´íŠ¸ í•„ìš”**:
- TTS API ë¯¸êµ¬í˜„ ëª©ë¡ì—ì„œ ì œê±°
- ìºë¦­í„° ì„ íƒ/ìƒì„± ê¸°ëŠ¥ ì¶”ê°€
- API ëª…ì„¸ì— ìºë¦­í„° API ì¶”ê°€

### 6.4 PROJECT_API_SUMMARY.md

**ì—…ë°ì´íŠ¸ í•„ìš”**:
- TTS API ì„¹ì…˜ ìƒì„¸í™” (êµ¬í˜„ ì™„ë£Œ ìƒíƒœ ë°˜ì˜)
- ìºë¦­í„° API ì„¹ì…˜ ì¶”ê°€

### 6.5 DATABASE_SCHEMA.md

**í™•ì¸ í•„ìš”**:
- Character ëª¨ë¸ì— `persona`, `voice_id`, `character` í•„ë“œ ì¶”ê°€ í™•ì¸
- AudioFile ëª¨ë¸ í™•ì¸ (TTS ìºì‹±ìš©)

---

## 7. ChatRoom API ì—°ë™ ë° TTS í†µí•© êµ¬í˜„ ìƒì„¸

### 7.1 Backend êµ¬í˜„

#### âœ… Chat API í™•ì¥ (`app/api/chat.py`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/chat.py`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì¸ì¦**: ë¶ˆí•„ìš” (ì¸ì¦ ì œê±°ë¨, 2026-01-26)
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `ChatRequest` ëª¨ë¸ í™•ì¥:
    - `persona`: í˜ë¥´ì†Œë‚˜ í…ìŠ¤íŠ¸ (í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì „ë‹¬); ê°ë… ëª¨ë“œ ì‹œ `[ë°°ìš° 1: ì´ë¦„]`/`[ë°°ìš° 2: ì´ë¦„]` í˜•ì‹
    - `session_id`: ì„¸ì…˜ ID (ì„ íƒ, ìë™ ìƒì„±)
    - `character_id`: ìºë¦­í„° ID (voice_id ì¡°íšŒìš©, í˜„ì¬ ë¯¸ì‚¬ìš©)
    - `scenario`: ì‹œë‚˜ë¦¬ì˜¤ ì •ë³´ (opponent, situation, background)
    - `director_note`: ê°ë…ì˜ ì—°ì¶œ/ì¤‘ì¬ ì§€ì‹œ (ê°ë… ëª¨ë“œ)
    - `current_speaker`: ê°ë… ëª¨ë“œì—ì„œ í˜„ì¬ ë§í•  ìºë¦­í„°
    - `tts_enabled`: TTS í™œì„±í™” ì—¬ë¶€ (ê¸°ë³¸ê°’: True)
    - `tts_mode`: TTS í˜¸ì¶œ ë°©ì‹ ("realtime" | "delayed" | "on_click")
    - `tts_delay_ms`: ì§€ì—° ì‹œê°„ (ë°€ë¦¬ì´ˆ)
    - `tts_streaming_mode`: GPT-SoVITS streaming_mode (0-3)
  - `ChatResponse` ëª¨ë¸ í™•ì¥:
    - `session_id`: ì„¸ì…˜ ID
    - `audio_url`: ìƒì„±ëœ ì˜¤ë””ì˜¤ íŒŒì¼ URL
    - `context_summarized`: ì»¨í…ìŠ¤íŠ¸ ìš”ì•½ ì—¬ë¶€ (Phase 5.2ì—ì„œ êµ¬í˜„ ì˜ˆì •)
  - í˜ë¥´ì†Œë‚˜ ì „ë‹¬ ë° í¬ë§·íŒ…:
    - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ `persona`, `scenario`, `session_id`, `character_id`, `director_note`, `current_speaker` ì „ë‹¬
    - `format_persona_for_actor()` í•¨ìˆ˜ë¡œ ë°°ìš°/ì—­í• ê·¹ í˜•ì‹ í¬ë§·íŒ… (ì œ4ì˜ ë²½, `director_note`, `summary` ë°˜ì˜)
    - í¬ë§·íŒ…ëœ í”„ë¡¬í”„íŠ¸ë¥¼ system ë©”ì‹œì§€ë¡œ ë³€í™˜í•˜ì—¬ LLMì— ì „ë‹¬
  - Character ì¡°íšŒ ë¡œì§ ì œê±°:
    - ì¸ì¦ ì œê±°ë¡œ ì¸í•´ ìºë¦­í„° ì¡°íšŒ ë¡œì§ ì œê±° (character_idëŠ” í˜„ì¬ ë¯¸ì‚¬ìš©)
  - TTS í†µí•© ë¡œì§ (ì„ì‹œ ë¹„í™œì„±í™”):
    - ì¸ì¦ ì œê±°ë¡œ ì¸í•´ TTS í†µí•© ë¡œì§ ì„ì‹œ ë¹„í™œì„±í™”
    - í•„ìš” ì‹œ ë³„ë„ `/api/tts` ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©
  - ì„¸ì…˜ ê´€ë¦¬:
    - session_id ìë™ ìƒì„± (ì—†ëŠ” ê²½ìš°)
    - UUID ê¸°ë°˜ ê³ ìœ  ì„¸ì…˜ ID

#### âœ… í˜ë¥´ì†Œë‚˜ ì „ë‹¬ ë°©ì‹ ê°œì„ 
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/chat.py`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `format_persona_for_roleplay()` í•¨ìˆ˜:
    - ì—­í• ê·¹ì— ì í•©í•œ êµ¬ì¡°í™”ëœ í˜•ì‹ìœ¼ë¡œ í˜ë¥´ì†Œë‚˜ í¬ë§·íŒ…
    - ìºë¦­í„° ì´ë¦„ í¬í•¨ (ìˆëŠ” ê²½ìš°)
    - ì‹œë‚˜ë¦¬ì˜¤ ì •ë³´ í¬í•¨ (opponent, situation, background)
    - ì—­í• ê·¹ ì§€ì‹œì‚¬í•­ ìë™ ì¶”ê°€
  - System ë©”ì‹œì§€ êµ¬ì„±:
    - ë§¤ ìš”ì²­ë§ˆë‹¤ system ë©”ì‹œì§€ í¬í•¨ (Ollama ìš”êµ¬ì‚¬í•­)
    - í¬ë§·íŒ…ëœ í˜ë¥´ì†Œë‚˜ë¥¼ system ë©”ì‹œì§€ë¡œ ì „ë‹¬
    - ëŒ€í™” íˆìŠ¤í† ë¦¬ì™€ í•¨ê»˜ LLMì— ì „ë‹¬
  - ë¡œê¹… ê¸°ëŠ¥:
    - ê°œë°œ í™˜ê²½ì—ì„œ í˜ë¥´ì†Œë‚˜ í¬ë§·íŒ… ê²°ê³¼ ë¡œê¹…
    - ë©”ì‹œì§€ ë°°ì—´ ê¸¸ì´ ë¡œê¹…
    - DEBUG í™˜ê²½ ë³€ìˆ˜ ê¸°ë°˜ ì¡°ê±´ë¶€ ë¡œê¹…

### 7.2 Frontend êµ¬í˜„

#### âœ… ChatRoom ì»´í¬ë„ŒíŠ¸ (`components/chat-room.tsx`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/components/chat-room.tsx`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ì„¸ì…˜ ê´€ë¦¬:
    - ì±„íŒ…ë°© ì‹œì‘ ì‹œ UUID ìë™ ìƒì„± (`crypto.randomUUID()`)
    - Zustand storeì— sessionId ì €ì¥
    - ëª¨ë“  API í˜¸ì¶œì— session_id í¬í•¨
  - ì´ˆê¸° ë©”ì‹œì§€ ìƒì„±:
    - `selectedCharacter.sample_dialogue` ìš°ì„  ì‚¬ìš©
    - ì—†ìœ¼ë©´ APIë¡œ ë™ì  ìƒì„± (`chatApi.chat()` í˜¸ì¶œ)
    - ì‹¤ì‹œê°„ TTS ì¬ìƒ (tts_mode === "realtime"ì¼ ë•Œ)
  - ì‹¤ì œ API ì—°ë™:
    - í•˜ë“œì½”ë”©ëœ ì‘ë‹µ ì™„ì „ ì œê±°
    - `chatApi.chat()` ì§ì ‘ í˜¸ì¶œ
    - scenario ì •ë³´ í¬í•¨ (opponent, situation, background)
    - TTS ì„¤ì • í¬í•¨ (tts_enabled, tts_mode, tts_delay_ms, tts_streaming_mode)
    - ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ (`retryWithBackoff`, ìµœëŒ€ 3íšŒ, ì§€ìˆ˜ ë°±ì˜¤í”„)
  - TTS í†µí•©:
    - ë°±ì—”ë“œ ì‘ë‹µì˜ `audio_url` ì²˜ë¦¬
    - ë©”ì‹œì§€ì— `audio_url` ì €ì¥
    - ì‹¤ì‹œê°„ ëª¨ë“œ: ì¦‰ì‹œ ì˜¤ë””ì˜¤ ì¬ìƒ
    - ì§€ì—° ëª¨ë“œ: ì„¤ì •ëœ ì‹œê°„ í›„ ì˜¤ë””ì˜¤ ì¬ìƒ
    - í´ë¦­ ëª¨ë“œ: ë©”ì‹œì§€ í´ë¦­ ì‹œ ì˜¤ë””ì˜¤ ì¬ìƒ
  - ì˜¤ë””ì˜¤ ì¬ìƒ:
    - `useTTS` í›… ì‚¬ìš©
    - ìƒëŒ€ ê²½ë¡œë¥¼ ì ˆëŒ€ URLë¡œ ë³€í™˜
    - ì¬ìƒ ì¤‘ ìƒíƒœ í‘œì‹œ (Volume2 ì•„ì´ì½˜ í„ìŠ¤)
    - ë©”ì‹œì§€ í´ë¦­ ê°€ëŠ¥ í‘œì‹œ (on_click ëª¨ë“œ)
  - ì—ëŸ¬ ì²˜ë¦¬:
    - Toast ê¸°ë°˜ ì—ëŸ¬ í‘œì‹œ
    - ì¬ì‹œë„ ì¹´ìš´íŠ¸ í‘œì‹œ
    - ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ëª…í™•í•œ ë©”ì‹œì§€
  - í„´ ì œí•œ ì„¤ì •í™”:
    - í•˜ë“œì½”ë”© ì œê±°
    - Zustand storeì˜ `maxTurns` ì‚¬ìš©
    - í™˜ê²½ ë³€ìˆ˜ `NEXT_PUBLIC_MAX_TURNS` ì§€ì› (ê¸°ë³¸ê°’: 30)

#### âœ… TTS ì„¤ì • ëª¨ë‹¬ (`components/tts-settings-modal.tsx`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/components/tts-settings-modal.tsx`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - TTS í˜¸ì¶œ ë°©ì‹ ì„ íƒ:
    - ì‹¤ì‹œê°„: ì±„íŒ… ì‘ë‹µê³¼ ë™ì‹œì— ìŒì„± ì¬ìƒ
    - ì§€ì—°: ì„¤ì •ëœ ì‹œê°„ í›„ ìŒì„± ì¬ìƒ
    - í´ë¦­: ë©”ì‹œì§€ í´ë¦­ ì‹œ ìŒì„± ì¬ìƒ
  - Streaming Mode ì„ íƒ:
    - 0-3 ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒ
    - ê° ëª¨ë“œ ì„¤ëª… í¬í•¨
  - ì§€ì—° ì‹œê°„ ì„¤ì •:
    - ìŠ¬ë¼ì´ë”ë¡œ 0-5000ms ì„¤ì •
    - ì‹¤ì‹œê°„ í‘œì‹œ
  - TTS í™œì„±í™”/ë¹„í™œì„±í™”:
    - í† ê¸€ ìŠ¤ìœ„ì¹˜
  - ì„¤ì • ì €ì¥:
    - Zustand storeì— ì €ì¥
    - ì¦‰ì‹œ ì ìš©

#### âœ… Zustand Store í™•ì¥ (`lib/store.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/store.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì¶”ê°€ëœ ìƒíƒœ**:
  - `ttsMode`: "realtime" | "delayed" | "on_click" (ê¸°ë³¸ê°’: "realtime")
  - `ttsDelayMs`: number (ê¸°ë³¸ê°’: 0)
  - `ttsStreamingMode`: number (ê¸°ë³¸ê°’: 0)
  - `ttsEnabled`: boolean (ê¸°ë³¸ê°’: true)
  - `sessionId`: string | null (ê¸°ë³¸ê°’: null)
  - `maxTurns`: number (ê¸°ë³¸ê°’: 30, í™˜ê²½ ë³€ìˆ˜ ì§€ì›)
  - `Message` ì¸í„°í˜ì´ìŠ¤ì— `audio_url?: string` ì¶”ê°€

#### âœ… íƒ€ì… í™•ì¥ (`lib/api/types.ts`)
- **íŒŒì¼ ìœ„ì¹˜**: `madcamp-Screening-Humanity-FRONT/lib/api/types.ts`
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **í™•ì¥ëœ íƒ€ì…**:
  - `ChatRequest`:
    - `session_id?: string`
    - `character_id?: string`
    - `scenario?: { opponent?: string; situation?: string; background?: string }`
    - `tts_enabled?: boolean`
    - `tts_mode?: "realtime" | "delayed" | "on_click"`
    - `tts_delay_ms?: number`
    - `tts_streaming_mode?: number`
  - `ChatResponse`:
    - `audio_url?: string`
    - `session_id?: string`
    - `context_summarized?: boolean`
  - `TTSRequest`:
    - `streaming_mode?: number`
    - `return_binary?: boolean`
    - `text_lang?: string`
    - `prompt_lang?: string`
    - `media_type?: string`

### 7.3 í˜ë¥´ì†Œë‚˜ ì „ë‹¬ ë°©ì‹ ê°œì„  êµ¬í˜„ ìƒì„¸

#### âœ… format_persona_for_roleplay() í•¨ìˆ˜
- **ìœ„ì¹˜**: `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/chat.py` (18-59ì¤„)
- **ê¸°ëŠ¥**:
  - ìºë¦­í„° ì´ë¦„ í¬í•¨ (ìˆëŠ” ê²½ìš°): "ë‹¹ì‹ ì€ {character_name}ì…ë‹ˆë‹¤."
  - í˜ë¥´ì†Œë‚˜ ì„¤ëª… í¬í•¨
  - ì‹œë‚˜ë¦¬ì˜¤ ì •ë³´ í¬í•¨:
    - í˜„ì¬ ìƒí™©: {situation}
    - ë°°ê²½: {background}
    - ìƒëŒ€ë°©: {opponent}
  - ì—­í• ê·¹ ì§€ì‹œì‚¬í•­ ìë™ ì¶”ê°€:
    - ìºë¦­í„°ì˜ ì„±ê²©ê³¼ ë§íˆ¬ ì¼ê´€ì„± ìœ ì§€
    - ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”
    - ìºë¦­í„° íŠ¹ì„± ë°˜ì˜
    - ì´ì „ ëŒ€í™” ë§¥ë½ ê³ ë ¤

#### âœ… ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
- **êµ¬í˜„ ë°©ì‹**: ë§¤ ìš”ì²­ë§ˆë‹¤ ì „ì²´ ëŒ€í™” íˆìŠ¤í† ë¦¬ í¬í•¨
- **ì´ìœ **: OllamaëŠ” ë§¤ ìš”ì²­ë§ˆë‹¤ system ë©”ì‹œì§€ë¥¼ í¬í•¨í•´ì•¼ í•˜ë¯€ë¡œ, í˜„ì¬ êµ¬í˜„ ë°©ì‹ì´ ì˜¬ë°”ë¦„
- **ë¡œê¹…**: ê°œë°œ í™˜ê²½ì—ì„œ ë©”ì‹œì§€ ë°°ì—´ ê¸¸ì´ ë° í˜ë¥´ì†Œë‚˜ í¬ë§·íŒ… ê²°ê³¼ ë¡œê¹…

---

## 8. ì„œë²„ ì—ëŸ¬ í•´ê²° ë° ë°±ì—”ë“œ Gemini SDK ë„ì… (2026-01-26)

### 8.1 í”„ë¡ íŠ¸ì—”ë“œ 500 ì—ëŸ¬ í•´ê²° âœ…

**ë¬¸ì œ**: `/api/characters` APIê°€ ê°„í—ì ìœ¼ë¡œ 500 ì—ëŸ¬ ë°œìƒ

**í•´ê²° ë°©ë²•**:
- âœ… ë™ê¸°ì‹ íŒŒì¼ ì²˜ë¦¬(`fs.readFileSync`) â†’ ë¹„ë™ê¸°ì‹(`fs.promises`) ì „í™˜
- âœ… `Promise.all()`ì„ ì‚¬ìš©í•œ ë³‘ë ¬ íŒŒì¼ ë¡œë“œ
- âœ… ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” (ê° íŒŒì¼ë³„ try-catch)
- âœ… ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸ (`fs.promises.access`)
- âœ… íŒŒì¼ íƒ€ì… í™•ì¸ (`stats.isFile()`)

**íŒŒì¼ ìœ„ì¹˜**:
- `madcamp-Screening-Humanity-FRONT/app/api/characters/route.ts`

### 8.2 ë°±ì—”ë“œ Gemini SDK ë„ì… âœ…

**ì‘ì—… ë‚´ìš©**: Google Generative AI SDK (`google-generativeai`) ë°±ì—”ë“œ ë„ì…

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
- âœ… `requirements.txt`ì— `google-generativeai` íŒ¨í‚¤ì§€ ì¶”ê°€
- âœ… `app/api/ai.py` ë¦¬íŒ©í† ë§:
  - ê³µì‹ Python SDK ì‚¬ìš©ìœ¼ë¡œ ì½”ë“œ ê°„ì†Œí™” ë° ì•ˆì •ì„± í–¥ìƒ
  - ë¹„ë™ê¸° API í˜¸ì¶œ (`generate_content_async`)
  - JSON Mode ì§€ì› (`response_mime_type="application/json"`)
  - System Instruction ì§€ì› (`system_instruction` íŒŒë¼ë¯¸í„°)
  - Safety Settings ì ìš© (ê¸°ë³¸ê°’: `BLOCK_NONE`)

**í™˜ê²½ë³€ìˆ˜ ì„¤ì •**:
- `GOOGLE_API_KEY`: Gemini API í‚¤ (í•„ìˆ˜)
- `GOOGLE_API_MODEL`: ì‚¬ìš©í•  ëª¨ë¸ (ê¸°ë³¸ê°’: `gemini-1.5-flash`)
- `GOOGLE_SAFETY_THRESHOLD`: ì•ˆì „ ì„¤ì • (ê¸°ë³¸ê°’: `BLOCK_NONE`)
- í´ë°±: `NEXT_PUBLIC_GEMINI_API_KEY` (ê°œë°œ í™˜ê²½ í¸ì˜)

**íŒŒì¼ ìœ„ì¹˜**:
- `madcamp-Screening-Humanity-BACK/server-b/backend/app/api/ai.py`
- `madcamp-Screening-Humanity-BACK/server-b/backend/requirements.txt`

**ì°¸ê³  ë¬¸ì„œ** (âš ï¸ **í•„ìˆ˜ ì°¸ê³ **):
- [Gemini API ì‚¬ìš©í•´ë³´ê¸°](https://velog.io/@dyd1308/Gemini-api-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0) - Gemini API ì‚¬ìš© ì‹œ ë°˜ë“œì‹œ ì°¸ê³ 
- [Gemini ëª¨ë¸ ë²„ì „](https://ai.google.dev/gemini-api/docs/models?hl=ko#model-versions) - ëª¨ë¸ ì„ íƒ ì‹œ ë°˜ë“œì‹œ ì°¸ê³ 

---

## 9. ê°ë… ëª¨ë“œ ë° Redis/ContextManager êµ¬í˜„ ìƒì„¸ (2026-01-27 ë°˜ì˜)

### 9.1 ê°ë… ëª¨ë“œ âœ… **êµ¬í˜„ ì™„ë£Œ**

#### âœ… Backend (`app/api/chat.py`)
- **êµ¬í˜„ ìƒíƒœ**: âœ… ì™„ì „ êµ¬í˜„ ì™„ë£Œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - `ChatRequest.director_note`: ê°ë…ì˜ ê¸´ê¸‰/ì—°ì¶œ ì§€ì‹œ
  - `ChatRequest.current_speaker`: ê°ë… ëª¨ë“œì—ì„œ í˜„ì¬ ë§í•  ìºë¦­í„°
  - `format_persona_for_actor()`: ì œ4ì˜ ë²½ ìœ ì§€ (ê°ë…ì€ íˆ¬ëª…ì¸ê°„), `director_note` ë°˜ì˜
  - ê°ë… ëª¨ë“œ ê°ì§€: `persona`ì— `[ë°°ìš° 1:`, `[ë°°ìš° 2:]` í¬í•¨ ì‹œ ìë™ íŒë³„
  - `[ë°°ìš° 1: ì´ë¦„]` / `[ë°°ìš° 2: ì´ë¦„]` íŒŒì‹±, êµëŒ€ ì‘ë‹µ (`current_speaker` ë˜ëŠ” ai_msg_count ê¸°ë°˜)

#### âœ… Frontend
- **`components/chat-room.tsx`**: ê°ë… ëª¨ë“œ ì´ˆê¸° ëŒ€í™”, ìë™ ëŒ€í™” ì´ì–´ê°€ê¸°, ê°ë… ì¤‘ì¬ ì…ë ¥(`[ê°ë… ì¤‘ì¬]`), í„´ ì¹´ìš´íŠ¸(1í„´=2ë©”ì‹œì§€)
- **`components/character-select-modal.tsx`**: ê°ë… ëª¨ë“œ ì‹œ 2ì¸ ìºë¦­í„° ì„ íƒ
- **`components/scenario-setup.tsx`**, **`components/script-preview.tsx`**: ê°ë… ëª¨ë“œ ì—°ë™
- **`lib/store.ts`**: `GameMode "director"`, `secondCharacter`
- **`lib/api/types.ts`**: `director_note`
- **`lib/api/client.ts`**: `mode: "director" | "actor"`

**ì°¸ê³  ë¬¸ì„œ**: `madcamp-Screening-Humanity-FRONT/docs/ê°ë…_ì¤‘ì¬_ê¸°ëŠ¥_êµ¬í˜„.md`, `ê°ë…_ëª¨ë“œ_í„´_ì¹´ìš´íŠ¸_ìˆ˜ì •.md`

### 9.2 Phase 5.2: ContextManager + Redis âœ… **ë¶€ë¶„ êµ¬í˜„ ì™„ë£Œ**

#### âœ… ContextManager (`app/services/context_manager.py`)
- **êµ¬í˜„ ìƒíƒœ**: âœ… êµ¬í˜„ ì™„ë£Œ
- **ê¸°ëŠ¥**:
  - **Redis** (ì„ íƒ): `redis` íŒ¨í‚¤ì§€ ìˆìœ¼ë©´ `REDIS_URL`ë¡œ ì—°ê²°, ì‹¤íŒ¨ ì‹œ ì¡°ìš©íˆ ë¹„í™œì„±
  - **DB (ChatSummary)**: `get_summary`, `save_summary` â€” ì˜êµ¬ ì €ì¥
  - **ë©”ëª¨ë¦¬**: Redis/DB ì—†ì„ ë•Œ `_memory_store` í´ë°±
  - `get_summary(session_id, db)`: Redis â†’ DB â†’ Memory ìš°ì„ ìˆœìœ„
  - `save_summary(session_id, summary, db)`: DB â†’ Redis â†’ Memory
  - `summarize_dialogue(messages, previous_summary)`: LLMìœ¼ë¡œ ìš”ì•½ ìƒì„±

#### âœ… ChatSummary ëª¨ë¸ (`app/models/summary.py`)
- `session_id` (PK), `summary`, `updated_at`
- `main.py` lifespanì—ì„œ `summary` ëª¨ë“ˆ import ë° `create_all` í¬í•¨

#### âœ… Chat API ì—°ë™
- `chat.py`: `summary = await context_manager.get_summary(session_id, db)` í›„ `format_persona_for_actor(..., summary=summary)`ì— ì „ë‹¬

#### âœ… Evaluation API ì—°ë™
- `evaluation.py`: `get_summary` â†’ `summarize_dialogue` â†’ `save_summary`ë¡œ ëŒ€í™” ì¢…ë£Œ ì‹œ ìš”ì•½ ì €ì¥

#### âš ï¸ Phase 5.2 ê³ ê¸‰ (ë¯¸êµ¬í˜„)
- ìŠ¬ë¼ì´ë”© ìœˆë„ìš°(ìµœê·¼ Ní„´ ìœ ì§€ + ì´ì „ í„´ ìš”ì•½) ë° 80% ì»¨í…ìŠ¤íŠ¸ íŠ¸ë¦¬ê±° ìë™ ìš”ì•½ì€ `chat.py`ì— `manage_context` í˜•íƒœë¡œ ë¯¸í†µí•©. í•„ìš” ì‹œ `PHASE5_SETUP.md` ê°€ì´ë“œ ì°¸ê³ .

---

## 10. ë‹¤ìŒ ë‹¨ê³„ (ë¯¸êµ¬í˜„ í•­ëª©)

### 10.1 Phase 5.2 ê³ ê¸‰ (ì„ íƒ)

- [ ] ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ë° 80% ì»¨í…ìŠ¤íŠ¸ íŠ¸ë¦¬ê±°ë¥¼ `chat.py`ì— `manage_context` í˜•íƒœë¡œ í†µí•©

---

## 11. ì°¸ê³  ë¬¸ì„œ

- `.cursor/plans/chatroom_api_ì—°ë™_ë°_tts_í†µí•©_79dbbc3b.plan.md`
- `.cursor/plans/í˜ë¥´ì†Œë‚˜_ì „ë‹¬_ë°©ì‹_ê°œì„ _ë°_ëŒ€í™”_ì»¨í…ìŠ¤íŠ¸_ê´€ë¦¬_d7205e41.plan.md`
- `.cursor/plans/ìºë¦­í„°_ì„ íƒ_ìƒì„±_ê¸°ëŠ¥_ê°œì„ _ê³„íš_96bc79de.plan.md`
- `.cursor/plans/tts_api_ê³ ê¸‰_ê¸°ëŠ¥_êµ¬í˜„_ê³„íš_b4d9a9e0.plan.md`
- `docs/GPT-SoVITS WebAPI(api_v2.py).md`
- `docs/DATABASE_SCHEMA.md`
- `madcamp-Screening-Humanity-FRONT/docs/ê°ë…_ì¤‘ì¬_ê¸°ëŠ¥_êµ¬í˜„.md`, `ê°ë…_ëª¨ë“œ_í„´_ì¹´ìš´íŠ¸_ìˆ˜ì •.md`
- **Gemini API ì°¸ê³  ë¬¸ì„œ**:
  - [Gemini API ì‚¬ìš©í•´ë³´ê¸°](https://velog.io/@dyd1308/Gemini-api-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0)
  - [Gemini ëª¨ë¸ ë²„ì „](https://ai.google.dev/gemini-api/docs/models?hl=ko#model-versions)

---

**ì‘ì„±ì**: AI Assistant  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-27  
**ë²„ì „**: 3.3 (ê°ë… ëª¨ë“œ, Redis/ContextManager ë°˜ì˜)

**ë³€ê²½ ì´ë ¥**:
- v3.3 (2026-01-27): ê°ë… ëª¨ë“œ ë° Redis/ContextManager ë°˜ì˜
  - ê°ë… ëª¨ë“œ: Backend director_note, current_speaker, format_persona_for_actor(ì œ4ì˜ ë²½), ê°ë… ëª¨ë“œ íŒŒì‹±; Frontend chat-room, character-select, scenario-setup, script-preview, store, api
  - Phase 5.2 ë¶€ë¶„ ì™„ë£Œ: ContextManager, Redis(ì„ íƒ), ChatSummary, get_summary in chat, evaluation ìš”ì•½ ì €ì¥; ìŠ¬ë¼ì´ë”© ìœˆë„ìš°/80% íŠ¸ë¦¬ê±°ëŠ” ë¯¸í†µí•©
- v3.4 (2026-01-27): Phase 5.3(ë™ì‹œ ì ‘ì† ì œí•œ) ê³„íšÂ·ê°€ì´ë“œÂ·ì²´í¬ë¦¬ìŠ¤íŠ¸Â·ì°¸ì¡° ì „ë©´ ì‚­ì œ
- v3.5 (2026-01-27): BACK/FRONT ì½”ë“œ ê²€í†  ë°˜ì˜ â€” GET /api/chat/models, style, animations, /api/characters/generate ë¯¸êµ¬í˜„; client chat body director_note/tts_* ë¯¸ì „ë‹¬; /api/ai/generate/character-details ê²½ë¡œ ë¶ˆì¼ì¹˜; DB create_all characterÂ·summary (DATABASE_SCHEMA)
- v3.2 (2026-01-26): ì„œë²„ ì—ëŸ¬ í•´ê²° ë° ë°±ì—”ë“œ Gemini SDK ë„ì… ë°˜ì˜
  - í”„ë¡ íŠ¸ì—”ë“œ 500 ì—ëŸ¬ í•´ê²°: `/api/characters` API ë¹„ë™ê¸° ì²˜ë¦¬ ê°œì„  (fs.promises ì „í™˜)
  - ë°±ì—”ë“œ Gemini SDK ë„ì…: `google-generativeai` íŒ¨í‚¤ì§€ ì¶”ê°€ ë° ì ìš©
  - ë°±ì—”ë“œ SDK ê³ ë„í™”: Safety Settings, JSON Mode ì ìš©
  - í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •: GOOGLE_API_KEY, GOOGLE_API_MODEL, GOOGLE_SAFETY_THRESHOLD
  - ì°¸ê³  ë¬¸ì„œ ì¶”ê°€: Gemini API ì‚¬ìš© ê°€ì´ë“œ ë° ëª¨ë¸ ë²„ì „ ë¬¸ì„œ
- v3.1 (2026-01-26): ìºë¦­í„° ìƒì„± ìœ„ì €ë“œ ê°œí¸ ë°˜ì˜
  - Step 1 ê°„ì†Œí™” (ì´ë¦„, ì¹´í…Œê³ ë¦¬, ì‘í’ˆëª… 3ê°€ì§€ë§Œ ì…ë ¥)
  - 'ë‹¤ìŒ' ë²„íŠ¼ í´ë¦­ ì‹œ AI ìë™ ìƒì„±
  - Step 2 í†µí•© í¸ì§‘ (ëª¨ë“  ì •ë³´ í•œ í™”ë©´ì—ì„œ ìˆ˜ì •)
  - AI ì¬ìƒì„± íšŸìˆ˜ ì œí•œ (ì´ 3íšŒ)
  - ì‘í’ˆëª… í•„ë“œ ì¶”ê°€ (source_work)
  - worldview í•„ë“œ ì¶”ê°€ (CharacterSpec ì¸í„°í˜ì´ìŠ¤)
- v3.0 (2026-01-26): ìºë¦­í„° ì‹œìŠ¤í…œ ê³ ë„í™” ì‘ì—… ì™„ë£Œ ë°˜ì˜
  - ë°ì´í„° êµ¬ì¡° ì„¸ë¶„í™” (persona â†’ 10ê°œ ì´ìƒì˜ ìƒì„¸ í•„ë“œ)
  - íŒŒì¼ ê¸°ë°˜ ê´€ë¦¬ ì‹œìŠ¤í…œ (public/characters/*.json API Route)
  - AI ìë™ ì™„ì„± ê¸°ëŠ¥ ê³ ë„í™” (generateCharacterSpec)
  - í”„ë¡ íŠ¸ì—”ë“œ UI/UX í˜ì‹  (CharacterCreationWizard ê°œí¸)
  - ì‹œìŠ¤í…œ ìµœì í™” (í˜ë¥´ì†Œë‚˜ ë¹Œë” ì‹œìŠ¤í…œ)
  - 9ì¢… ìºë¦­í„° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- v2.1 (2026-01-26): ì¸ì¦ ì œê±° ë° í”„ë¡¬í”„íŠ¸ ì „ë‹¬ ìˆ˜ì • ë°˜ì˜
  - `/api/chat` ì¸ì¦ ì œê±°. **ì°¸ê³ **: `GET /api/chat/models` ë¼ìš°íŠ¸ ë¯¸êµ¬í˜„ (Backend `chat.py`ì— ì—†ìŒ). `styleApi`/`animationApi`ì˜ `/api/style/*`, `/api/animations`ë„ Backend ë¯¸êµ¬í˜„, Frontend clientì—ë§Œ ì •ì˜. **client `chat()` body**: `director_note`, `current_speaker`, `tts_enabled`, `tts_mode`, `tts_delay_ms`, `tts_streaming_mode` ë¯¸ì „ë‹¬ (BackendëŠ” ìˆ˜ì‹ Â·ì²˜ë¦¬ ì§€ì›).
  - `/api/tts`, `/api/tts/voices` ì¸ì¦ ì œê±°
  - `/api/generate` ì¸ì¦ ì œê±° (user_id="anonymous")
  - `/api/characters/*` ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ì¸ì¦ ì œê±°
  - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ persona, scenario, session_id, character_id ì „ë‹¬ í™•ì¸
  - ë°±ì—”ë“œì—ì„œ request.personaë¥¼ system ë©”ì‹œì§€ë¡œ í¬ë§·íŒ… í™•ì¸
- v2.0 (2026-01-26): ChatRoom API ì—°ë™ ë° í˜ë¥´ì†Œë‚˜ ì „ë‹¬ ë°©ì‹ ê°œì„  ë°˜ì˜
