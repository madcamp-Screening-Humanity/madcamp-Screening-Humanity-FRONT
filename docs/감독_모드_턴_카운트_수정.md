# ê°ë… ëª¨ë“œ í„´ ì¹´ìš´íŠ¸ ìˆ˜ì •

**ì‘ì„±ì¼**: 2026-01-27  
**ë²„ì „**: 1.1

---

## ğŸ› ë¬¸ì œì 

ê°ë… ëª¨ë“œì—ì„œ **2í„´ë§Œ í•˜ë©´ ëŒ€í™”ê°€ ëë‚˜ëŠ” ë¬¸ì œ** ë°œìƒ:
- ê° ìºë¦­í„°ê°€ ë§í•  ë•Œë§ˆë‹¤ `incrementTurn()` í˜¸ì¶œ
- ìºë¦­í„°1 ë©”ì‹œì§€ â†’ í„´ +1
- ìºë¦­í„°2 ë©”ì‹œì§€ â†’ í„´ +1
- **ê²°ê³¼**: 2ê°œ ë©”ì‹œì§€ = 2í„´ â†’ 30í„´ ì œí•œì— ê¸ˆë°© ë„ë‹¬

---

## âœ… í•´ê²° ë°©ë²•

**ê°ë… ëª¨ë“œì—ì„œëŠ” 1í„´ = 2ê°œ ë©”ì‹œì§€**ë¡œ ë³€ê²½:
- ìºë¦­í„°1 ë©”ì‹œì§€ â†’ í„´ ì¦ê°€ ì•ˆ í•¨
- ìºë¦­í„°2 ë©”ì‹œì§€ â†’ í„´ +1
- **ê²°ê³¼**: 30í„´ = 60ê°œ ë©”ì‹œì§€ (ìºë¦­í„°1 30ê°œ + ìºë¦­í„°2 30ê°œ)

---

## ğŸ”§ ìˆ˜ì • ë‚´ìš©

### 1. ì´ˆê¸° ëŒ€í™” ì‹œì‘ (`startDirectorConversation`)

**Before:**
```tsx
// ì²« ë²ˆì§¸ ìºë¦­í„°
addMessage(...)
incrementTurn()  // âŒ í„´ ì¦ê°€

// ë‘ ë²ˆì§¸ ìºë¦­í„°
addMessage(...)
incrementTurn()  // âŒ í„´ ì¦ê°€
```

**After:**
```tsx
// ì²« ë²ˆì§¸ ìºë¦­í„°
addMessage(...)
// âœ… í„´ ì¦ê°€ ì•ˆ í•¨

// ë‘ ë²ˆì§¸ ìºë¦­í„°
addMessage(...)
incrementTurn()  // âœ… ë‘ ë²ˆì§¸ ìºë¦­í„°ë§Œ í„´ ì¦ê°€
```

### 2. ìë™ ëŒ€í™” (`useEffect - ìë™ ì‘ë‹µ`)

**Before:**
```tsx
addMessage(autoMessage)
incrementTurn()  // âŒ ë§¤ë²ˆ í„´ ì¦ê°€
setCurrentSpeaker(nextSpeaker)
```

**After:**
```tsx
addMessage(autoMessage)
// âœ… character2ê°€ ë§í•œ í›„ì—ë§Œ í„´ ì¦ê°€
if (nextSpeaker === "character1") {
  incrementTurn()
}
setCurrentSpeaker(nextSpeaker)
```

### 3. ê°ë… ì¤‘ì¬ (`handleSend - ê°ë… ëª¨ë“œ`)

**Before:**
```tsx
addMessage(aiMessage)
incrementTurn()  // âŒ ë§¤ë²ˆ í„´ ì¦ê°€
setCurrentSpeaker(...)
```

**After:**
```tsx
addMessage(aiMessage)
// âœ… character2ê°€ ë§í•œ í›„ì—ë§Œ í„´ ì¦ê°€
const nextSpeaker = currentSpeaker === "character1" ? "character2" : "character1"
if (nextSpeaker === "character1") {
  incrementTurn()
}
setCurrentSpeaker(nextSpeaker)
```

### 4. UI ê°œì„ 

**í„´ ì¹´ìš´íŠ¸ í‘œì‹œì— ì„¤ëª… ì¶”ê°€:**
```tsx
<span className="text-primary font-bold">{turnCount}</span>
<span className="text-muted-foreground"> / {maxTurns} í„´</span>
{isDirectorMode && secondCharacter && (
  <span className="text-xs text-muted-foreground ml-1">(1í„´ = 2ê°œ ëŒ€í™”)</span>
)}
```

---

## ğŸ“Š ê²°ê³¼

### Before (ë¬¸ì œ ìƒí™©)
- 30í„´ ì œí•œ = 30ê°œ ë©”ì‹œì§€
- ìºë¦­í„°1 15ê°œ + ìºë¦­í„°2 15ê°œ
- **ë§¤ìš° ì§§ì€ ëŒ€í™”**

### After (ìˆ˜ì • í›„)
- 30í„´ ì œí•œ = 60ê°œ ë©”ì‹œì§€
- ìºë¦­í„°1 30ê°œ + ìºë¦­í„°2 30ê°œ
- **ì¶©ë¶„í•œ ëŒ€í™” ê¸¸ì´**

---

## ğŸ¯ ë¡œì§ ì„¤ëª…

### í„´ ì¦ê°€ ì¡°ê±´
```
í˜„ì¬ í™”ìê°€ character1 â†’ ë‹¤ìŒ í™”ìëŠ” character2 â†’ í„´ ì¦ê°€ ì•ˆ í•¨
í˜„ì¬ í™”ìê°€ character2 â†’ ë‹¤ìŒ í™”ìëŠ” character1 â†’ í„´ ì¦ê°€ âœ…
```

### ì˜ˆì‹œ íë¦„
```
í„´ 0: ì‹œì‘
  - character1 ë§í•¨ â†’ í„´ ê·¸ëŒ€ë¡œ (0)
  - character2 ë§í•¨ â†’ í„´ ì¦ê°€ (1)
  
í„´ 1:
  - character1 ë§í•¨ â†’ í„´ ê·¸ëŒ€ë¡œ (1)
  - character2 ë§í•¨ â†’ í„´ ì¦ê°€ (2)
  
...

í„´ 30:
  - character1 ë§í•¨ (60ë²ˆì§¸ ë©”ì‹œì§€)
  - character2 ë§í•¨ ë¶ˆê°€ (í„´ ì œí•œ ë„ë‹¬)
```

---

## âœ¨ ì£¼ìš” íŠ¹ì§•

1. **ì¼ê´€ëœ í„´ ì¹´ìš´íŠ¸**: ëª¨ë“  ê²½ë¡œ(ì´ˆê¸° ëŒ€í™”, ìë™ ëŒ€í™”, ê°ë… ì¤‘ì¬)ì—ì„œ ë™ì¼í•œ ë¡œì§ ì ìš©
2. **ëª…í™•í•œ í‘œì‹œ**: UIì— "1í„´ = 2ê°œ ëŒ€í™”" í‘œì‹œ
3. **ì¶©ë¶„í•œ ëŒ€í™” ê¸¸ì´**: 30í„´ = 60ê°œ ë©”ì‹œì§€ë¡œ ì¶©ë¶„í•œ ëŒ€í™” ê°€ëŠ¥

---

## ğŸ”œ í–¥í›„ ê°œì„  ì‚¬í•­

1. í™˜ê²½ ë³€ìˆ˜ë¡œ í„´ ì œí•œ ì„¤ì • ê°€ëŠ¥í•˜ë„ë¡ ê°œì„ 
2. ê°ë… ëª¨ë“œì™€ ì£¼ì—° ëª¨ë“œì˜ í„´ ì¹´ìš´íŠ¸ ë°©ì‹ í†µì¼ ê³ ë ¤
3. í„´ ì œí•œ ê²½ê³  ë©”ì‹œì§€ ì¶”ê°€ (ì˜ˆ: 25í„´ ë„ë‹¬ ì‹œ ì•Œë¦¼)

---

**ìˆ˜ì • ì™„ë£Œì¼**: 2026-01-27  
**í…ŒìŠ¤íŠ¸ ìƒíƒœ**: ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í•„ìš”
